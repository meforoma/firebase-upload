(this["webpackJsonpfirebase-upload"]=this["webpackJsonpfirebase-upload"]||[]).push([[0],{30:function(e,a,t){},31:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var s=t(23),c=t.n(s),i=(t(30),t(6)),l=t(18),r=t.n(l),n=t(9),o=(t(31),t(20)),d=t(24),u=Object(d.a)({apiKey:"AIzaSyAEqIsGRSX-FjvwlVzp2zEG4z2JulxPXZo",authDomain:"fir-upload-a0015.firebaseapp.com",projectId:"fir-upload-a0015",storageBucket:"fir-upload-a0015.appspot.com",messagingSenderId:"840464477647",appId:"1:840464477647:web:6a5710120a6b67154036ba"}),j=Object(o.a)(u),p=t.p+"static/media/icon-upload.a7df5873.svg",b=t(1),m=function(e){var a=e.setFileLocalUrl,t=e.setFileError,s=e.setStage,c=e.uploadFile;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"upload-area__icon-and-text",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("img",{src:p,alt:"icon-upload",className:"icon-upload"})}),Object(b.jsx)("header",{children:Object(b.jsxs)("div",{className:"text--mid",children:["Drag & Drop image file to upload or",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"text-select",children:"select"}),"\xa0it manually"]})})]}),Object(b.jsx)("input",{id:"fileInput",type:"file",onChange:function(e){var i=e.target.files;if(null===i||void 0===i?void 0:i.length){var l=i[0].type.includes("image"),r=i[0].size<=5e6;l&&r&&(t(!1),s("uploading"),function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){var e;a(null===(e=t.result)||void 0===e?void 0:e.toString())}}(i[0]),c(i[0])),l&&r||t(!0)}}})]})},g=function(e){var a=e.stage,t=e.fileLocalUrl,s=e.uploadProgress;return Object(b.jsxs)("div",{className:"upload-container",children:[s>0&&Object(b.jsx)("img",{className:r()("upload-area__img",{"upload-area__img--dimmed":"uploading"===a}),src:t,alt:"file-local-url"}),"uploading"===a&&Object(b.jsx)("progress",{className:"progress-center",max:"100",value:s,children:s})]})},f=t.p+"static/media/icon-success.bf7f9ad2.svg",O=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],s=a[1],c=Object(n.useState)(""),l=Object(i.a)(c,2),d=l[0],u=l[1],p=Object(n.useState)(0),O=Object(i.a)(p,2),x=O[0],h=O[1],v=Object(n.useState)("start"),N=Object(i.a)(v,2),S=N[0],y=N[1],w=function(){switch(S){case"uploading":return"Don't close this window while the image uploads";case"uploaded":return"Image uploaded successfully";default:return"Upload your image file, up to 5mb in size"}},F=Object(b.jsx)(m,{setFileLocalUrl:u,setFileError:s,setStage:y,uploadFile:function(e){if(e){var a=Object(o.b)(j,"/images/".concat(e.name));Object(o.c)(a,e).on("state_changed",(function(e){var a=e.bytesTransferred,t=e.totalBytes,s=Math.round(a/t*100);h(s)}),(function(e){return console.log(e)}),(function(){return y("uploaded")}))}}}),I=Object(b.jsx)(g,{stage:S,fileLocalUrl:d,uploadProgress:x});return Object(b.jsxs)("div",{className:"main-container",children:[Object(b.jsx)("div",{className:"text--big",children:"uploaded"===S?Object(b.jsxs)("div",{className:"title--success",children:[Object(b.jsx)("img",{src:f,alt:"icon-success",className:"icon-success"}),"Success"]}):"Upload Image"}),Object(b.jsx)("div",{className:r()("upload-area",{"upload-area--error":t}),children:"start"===S?F:I}),Object(b.jsx)("div",{className:r()("text--light","text--small",{"text--error":t}),children:w()})]})};c.a.render(Object(b.jsx)(O,{}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.71e61f55.chunk.js.map